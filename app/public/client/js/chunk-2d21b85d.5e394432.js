(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21b85d"],{bfad:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page home-page"},[i("div",{staticClass:"wrap",staticStyle:{display:"none"}},[0==t.actTime.type?i("div",{staticClass:"act-time"},[t._v("活动时间："+t._s(t.actTime.time))]):t._e(),1==t.actTime.type?i("div",{staticClass:"act-time"},[t._v("报名时间："+t._s(t.actTime.time1))]):t._e(),1==t.actTime.type?i("div",{staticClass:"act-time"},[t._v("投票时间："+t._s(t.actTime.time2))]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:4==t.actStatus&&5==t.actStatus,expression:"actStatus==4 && actStatus==5"}],staticClass:"act-status"},[t._v("抱歉,"+t._s("4"==t.actStatus?"活动已结束!":"5"==t.actStatus?"活动已关闭!":"活动未进行!"))])]),i("div",{staticClass:"info-title",staticStyle:{margin:"8px 8px 8px"}},[t._v("奖品设置")]),i("div",{staticClass:"info-content",domProps:{innerHTML:t._s(t.actPrize)}}),i("Preview",{attrs:{"is-show":t.showPreview,list:t.previewList,index:t.previewIndex},on:{"update:isShow":function(e){t.showPreview=e},"update:is-show":function(e){t.showPreview=e}}})],1)},a=[],n=i("cb63"),c=i("f1ed"),r=(i("46f1"),i("e6c4")),o={name:"Prize",components:{Preview:r["a"]},computed:{actStatus:function(){return this.$store.state.act.status},actPrize:function(){return Object(n["a"])(this.$store.state.act.prizes)},actTime:function(){var t=this.$store.state.act,e="yyyy-MM-dd hh:mm",i=Object(c["c"])(t.signUpStartTime,e),s=Object(c["c"])(t.signUpEndTime,e),a=Object(c["c"])(t.voteStartTime,e),n=Object(c["c"])(t.voteEndTime,e),r=new Date,o=r.getTime()>t.signUpStartTime.getTime()&&r.getTime()<t.signUpEndTime.getTime();return a==i&&n==s?{type:0,time:a+" ~ "+n,canSign:o}:{type:1,time1:i+" ~ "+s,time2:a+" ~ "+n,canSign:o}}},data:function(){return{showPreview:!1,previewList:[],previewIndex:0,images:null}},mounted:function(){var t=this;t.$store.commit("switchLoading",!1),t.$nextTick(function(){document.body.addEventListener("click",t.doHandleClick),setTimeout(function(){t.initPreview(),t.$emit("share",{name:"global"})},1500)})},methods:{initPreview:function(){for(var t,e=this,i=document.querySelectorAll("img"),s=[],a=null,n=0;n<i.length;n++){for(a=i[n],t=0;t<s.length;t++)if(s[t]==a.src)break;t==s.length&&s.push(a.src)}0!=s.length&&(e.images=s,e.getImageSize(0))},getImageSize:function(t){var e=this,i=e.images[t],s=new Image;s.onload=function(){e.previewList.push({src:i,w:this.width,h:this.height}),t<e.images.length-1&&e.getImageSize(t+1)},s.src=i},doHandleClick:function(t){var e=this,i=t.target;if(!e.showPreview&&/img/i.test(i.tagName)&&"pswp__img"!=i.className){e.previewIndex=0;for(var s=0;s<e.previewList.length;s++)if(e.previewList[s].src==i.src){e.previewIndex=s;break}e.showPreview=!0}}},beforeDestroy:function(){var t=this;document.body.removeEventListener("click",t.doHandleClick)}},m=o,u=i("6691"),d=Object(u["a"])(m,s,a,!1,null,null,null);e["default"]=d.exports}}]);